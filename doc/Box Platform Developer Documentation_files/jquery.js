(function(){$.prettyDate={template:function(a,b){if(arguments.length==1)return function(){var b=$.makeArray(arguments);b.unshift(a);return $.prettyDate.template.apply(this,b)};if(arguments.length>2&&b.constructor!=Array){b=$.makeArray(arguments).slice(1)}if(b.constructor!=Array){b=[b]}$.each(b,function(b,c){a=a.replace(new RegExp("\\{"+b+"\\}","g"),c)});return a},now:function(){return new Date},format:function(a){var b=new Date((a||"").replace(/-/g,"/").replace(/[TZ]/g," ")),c=($.prettyDate.now().getTime()-b.getTime())/1e3,d=Math.floor(c/86400);if(isNaN(d)||d<0||d>=31)return;var e=$.prettyDate.messages;return d==0&&(c<60&&e.now||c<120&&e.minute||c<3600&&e.minutes(Math.floor(c/60))||c<7200&&e.hour||c<86400&&e.hours(Math.floor(c/3600)))||d==1&&e.yesterday||d<7&&e.days(d)||d<31&&e.weeks(Math.ceil(d/7))}};$.prettyDate.messages={now:"just now",minute:"1 minute ago",minutes:$.prettyDate.template("{0} minutes ago"),hour:"1 hour ago",hours:$.prettyDate.template("{0} hours ago"),yesterday:"Yesterday",days:$.prettyDate.template("{0} days ago"),weeks:$.prettyDate.template("{0} weeks ago")};$.fn.prettyDate=function(a){function c(){b.each(function(){var b=$.prettyDate.format(a.value.apply(this));if(b&&$(this).text()!=b)$(this).text(b)})}a=$.extend({value:function(){return $(this).attr("title")},interval:1e4},a);var b=this;c();if(a.interval)setInterval(c,a.interval);return this}})()